import{S as oe,i as ne,s as fe,a as c,k as n,q as R,c as $,l as f,m as P,r as L,h,n as b,b as N,E as a,K as ue,P as me,L as le,I as pe,p as A,u as de}from"../chunks/index.c9973389.js";import{e as ce,a as $e}from"../chunks/forms.794d1d53.js";import{p as be}from"../chunks/stores.69002488.js";function ae(o){let r,e;return{c(){r=n("p"),e=R(o[2]),this.h()},l(l){r=f(l,"P",{style:!0});var s=P(r);e=L(s,o[2]),s.forEach(h),this.h()},h(){A(r,"color","red")},m(l,s){N(l,r,s),a(r,e)},p(l,s){s&4&&de(e,l[2])},d(l){l&&h(r)}}}function se(o){let r,e;return{c(){r=n("p"),e=R("Username is required"),this.h()},l(l){r=f(l,"P",{style:!0});var s=P(r);e=L(s,"Username is required"),s.forEach(h),this.h()},h(){A(r,"color","red"),A(r,"margin-bottom","0")},m(l,s){N(l,r,s),a(r,e)},d(l){l&&h(r)}}}function ie(o){let r,e;return{c(){r=n("p"),e=R("Password is required"),this.h()},l(l){r=f(l,"P",{style:!0});var s=P(r);e=L(s,"Password is required"),s.forEach(h),this.h()},h(){A(r,"color","red"),A(r,"margin-bottom","0")},m(l,s){N(l,r,s),a(r,e)},d(l){l&&h(r)}}}function he(o){var te,re;let r,e,l,s,w,B,k,u,E,I,O,_,U,F,K,j,v,z,D,G,H,g,J,Q,V,W,X,Y,S,y,Z,C,x,ee,m=o[2]&&ae(o),p=((te=o[0])==null?void 0:te.usernameMissing)&&se(),d=((re=o[0])==null?void 0:re.passwordMissing)&&ie();return{c(){m&&m.c(),r=c(),e=n("form"),l=n("label"),s=R("Username"),w=c(),B=n("br"),k=c(),u=n("input"),I=c(),O=n("br"),_=c(),p&&p.c(),U=c(),F=n("br"),K=n("br"),j=c(),v=n("label"),z=R("Password"),D=c(),G=n("br"),H=c(),g=n("input"),J=c(),Q=n("br"),V=n("br"),W=c(),X=n("br"),Y=c(),d&&d.c(),S=c(),y=n("button"),Z=R("Login"),this.h()},l(i){m&&m.l(i),r=$(i),e=f(i,"FORM",{method:!0,action:!0});var t=P(e);l=f(t,"LABEL",{for:!0});var q=P(l);s=L(q,"Username"),q.forEach(h),w=$(t),B=f(t,"BR",{}),k=$(t),u=f(t,"INPUT",{id:!0,name:!0,placeholder:!0,type:!0}),I=$(t),O=f(t,"BR",{}),_=$(t),p&&p.l(t),U=$(t),F=f(t,"BR",{}),K=f(t,"BR",{}),j=$(t),v=f(t,"LABEL",{for:!0});var M=P(v);z=L(M,"Password"),M.forEach(h),D=$(t),G=f(t,"BR",{}),H=$(t),g=f(t,"INPUT",{id:!0,name:!0,placeholder:!0,type:!0}),J=$(t),Q=f(t,"BR",{}),V=f(t,"BR",{}),W=$(t),X=f(t,"BR",{}),Y=$(t),d&&d.l(t),S=$(t),y=f(t,"BUTTON",{type:!0});var T=P(y);Z=L(T,"Login"),T.forEach(h),t.forEach(h),this.h()},h(){var i;b(l,"for","username"),b(u,"id","username"),b(u,"name","username"),b(u,"placeholder","username"),b(u,"type","text"),u.value=E=((i=o[0])==null?void 0:i.username)||"",b(v,"for","password"),b(g,"id","password"),b(g,"name","password"),b(g,"placeholder","password"),b(g,"type","password"),b(y,"type","submit"),y.disabled=o[1],b(e,"method","POST"),b(e,"action","?/login")},m(i,t){m&&m.m(i,t),N(i,r,t),N(i,e,t),a(e,l),a(l,s),a(e,w),a(e,B),a(e,k),a(e,u),a(e,I),a(e,O),a(e,_),p&&p.m(e,null),a(e,U),a(e,F),a(e,K),a(e,j),a(e,v),a(v,z),a(e,D),a(e,G),a(e,H),a(e,g),a(e,J),a(e,Q),a(e,V),a(e,W),a(e,X),a(e,Y),d&&d.m(e,null),a(e,S),a(e,y),a(y,Z),x||(ee=ue(C=ce.call(null,e,o[4])),x=!0)},p(i,[t]){var q,M,T;i[2]?m?m.p(i,t):(m=ae(i),m.c(),m.m(r.parentNode,r)):m&&(m.d(1),m=null),t&1&&E!==(E=((q=i[0])==null?void 0:q.username)||"")&&u.value!==E&&(u.value=E),(M=i[0])!=null&&M.usernameMissing?p||(p=se(),p.c(),p.m(e,U)):p&&(p.d(1),p=null),(T=i[0])!=null&&T.passwordMissing?d||(d=ie(),d.c(),d.m(e,S)):d&&(d.d(1),d=null),t&2&&(y.disabled=i[1]),C&&me(C.update)&&t&6&&C.update.call(null,i[4])},i:le,o:le,d(i){m&&m.d(i),i&&h(r),i&&h(e),p&&p.d(),d&&d.d(),x=!1,ee()}}}function _e(o,r,e){let l;pe(o,be,u=>e(3,l=u));let s=!1,w="",{form:B}=r;const k=({form:u,data:E,action:I,cancel:O})=>(e(1,s=!0),({result:_,update:U})=>{e(1,s=!1),(_.type==="failure"||_.type==="redirect")&&$e(_),_.type==="error"&&e(2,w=_.error.message)});return o.$$set=u=>{"form"in u&&e(0,B=u.form)},o.$$.update=()=>{o.$$.dirty&8&&console.log(l.form,l.status)},[B,s,w,l,k]}class we extends oe{constructor(r){super(),ne(this,r,_e,he,fe,{form:0})}}export{we as default};
